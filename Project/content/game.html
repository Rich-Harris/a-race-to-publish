<!DOCTYPE html>
<html lang='en-GB'>
<head>
	<meta charset='utf-8'>
	<title>A Race To Publish</title>
	<meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1'>

<link href="../../generated/min.css" rel="stylesheet" type="text/javascript">
<link href='http://fonts.googleapis.com/css?family=Dosis' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Varela+Round' rel='stylesheet' type='text/css'>
<script type="text/javascript" src="jQuery-1.10.2.js"></script>
<script type="text/javascript" src="CSVParser.js"></script>
<script type="text/javascript" src="shuffle.js"></script>
</head>

<body>

<script>
  $.get( 'https://docs.google.com/spreadsheet/pub?key=0AscIRJMcugw8dEp2cXBvMGcwd29hUTR2alBkMnp6bEE&output=csv').then( function ( data ) { // `data` is the contents of data.csv
  var parser = new CSVParser( data );
  
  var scientistCards = parser.json();
  window.$vars = {
    scientistCards: scientistCards
  };

  shuffle(scientistCards);

 
  
});
</script>




<div id='container'></div>

<script id='tpl' type='text/ractive'>
<!--the rules and first button option which fetches a card for the player-->

<div id='rules'>
  <h1>To play:</h1>    
  <ul>
    {{^playerCard}}
    <li>Generate your scientist card here: <button on-click='pickName'>pick a name</button></li>
    {{/playerCard}}

<!--the next button option offers the player the choice of which stat to use. This does 2 things: fetches the opponents card and then compares the 2 cards using the stat the player picked-->

    {{#statChoice}}
    <li>You have your card! Now pick a stat to compete on... This will generate your opponents card!</li>
    </br>


    <button on-click='competeReputation'>Reputation</button>
    </br>
    <button on-click='competeImpact'>Impact</button>
    </br>
    <button on-click='competeControversy'>Controversy</button>
    </br>

  </ul>
{{/statChoice}}

<!--this controls the 'play again' button so it only appears at the end-->

{{#reset}}
<p>{{message}}</p>
<button on-click='playAgain'>Play Again!</button>
{{/reset}}

{{^reset}}
{{/reset}}
</div>

<!--this is an empty template so that when the player has selected a stat, this appears instead of the 3 button option above remaining-->

{{^statChoice}}
{{/statChoice}}

<!--the main card container, 'wrap' contains the cards which float left and right-->


<div id='wrap'>
<!--start off with just the back showing as no card is selected-->
{{^playerCard}}
<div id='main'>
<h2>Your Card</h2>
    <div class='card'>
      <div class='cardFace'>
      </div>
    </div>
 
</div>
{{/playerCard}}




<!--appears when the player selects a card-->
{{#playerCard}}
<div id='main'> 
<h2>Your Card</h2>
  <div class='card'>
      <div class='cardFace'>
          <p class='nameField'>{{name}} &#40;{{discipline}}&#41; {{discipline2}}</p>
            <ul class='ulStats'>
            <li>Reputation: {{reputation}}</li>
            <li>Impact: {{impact}}<li>
            <li>Controversy: {{controversy}}<li>
            </ul>
          <p class='descriptionField'>{{description}}</p>
          <img class='picContainer' src={{image}}></img>
          
      </div>
  </div>
</div>
  
{{/playerCard}}


<!--as above, opponents card starts back facing until fetched-->

{{^compCard}}
  <div id='sidebar'>
  <h2>Opponent Card</h2>
    <div class='card'>
      <div class='cardFace'>
      </div>
    </div>
  </div>
{{/compCard}}

<!--when the card is selected, it shows-->

{{#compCard}}

<div id='sidebar'>	
<h2>Opponent Card</h2>
  <div class='card'>
      <div class='cardFace'>
          <p class='nameField'>{{nameC}} &#40;{{disciplineC}}&#41; {{discipline2}}</p>
            <ul class='ulStats'>
            <li>Reputation: {{reputationC}}</li>
            <li>Impact: {{impactC}}<li>
            <li>Controversy: {{controversyC}}<li>
            </ul>
          <p class='descriptionField'>{{descriptionC}}</p>
          <img class='picContainer' src='WilliamHerschel.jpg'></img>
          
      </div>
  </div>
</div>

  
{{/compCard}}





</div>
</script>



<script src='Ractive.js'></script>  
<script src='ractiveForGame.js'></script>


	










</body>
</html>